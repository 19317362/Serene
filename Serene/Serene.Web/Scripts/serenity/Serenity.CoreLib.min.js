var __decorate=this&&this.__decorate||function(e,t,n,i){var r=arguments.length,a=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)if(o=e[s])a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a;return r>3&&a&&Object.defineProperty(t,n,a),a};var __extends=this&&this.__extends||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)};var Q;(function(e){function t(e,t){return ss.coalesce(e,t)}e.coalesce=t;function n(e){return ss.isValue(e)}e.isValue=n;function i(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}var r,a,o,s,l,u,f=arguments[0]||{},c=1,d=arguments.length;if(typeof f!=="object"&&!$.isFunction(f)){f={}}if(c===d){f={};c=0}for(;c<d;c++){if((r=arguments[c])!==null){if($.isArray(r)){f=$.extend(true,[],r)}else{for(a in r){o=f[a];s=r[a];if(f===s){continue}if(s&&($.isPlainObject(s)||(l=$.isArray(s)))){if(l){l=false;u=o&&$.isArray(o)?o:[]}else{u=o&&$.isPlainObject(o)?o:{}}f[a]=i(u,s)}else if(s!==undefined){f[a]=s}}}}}return f}e.deepClone=i})(Q||(Q={}));var Q;(function(e){function t(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(t(r))return true}return false}e.any=t;function n(e,t){var n=0;for(var i=0,r=e;i<r.length;i++){var a=r[i];if(t(a))n++}return n}e.count=n;function i(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(t(r))return r}throw new Error("first:No element satisfies the condition.!")}e.first=i;function r(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}e.indexOf=r;function a(e,t,n){ss.insert(e,t,n)}e.insert=a;function o(e){return ss.isArray(e)}e.isArray=o;function s(e,t){var n;var i=false;for(var r=0,a=e;r<a.length;r++){var o=a[r];if(t(o)){if(i)throw new Error("single:sequence contains more than one element.");i=true;n=o}}if(!i)throw new Error("single:No element satisfies the condition.");return n}e.single=s;function l(e,t){var n={};for(var i=0,r=e;i<r.length;i++){var a=r[i];var o=t(a)||"";var s=n[o];if(!s){s=n[o]=[]}s.push(a)}return n}e.toGrouping=l;function u(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(t(r))return r}}e.tryFirst=u})(Q||(Q={}));var Q;(function(e){function t(e,t){return ss.endsWithString(e,t)}e.endsWith=t;function n(e){return e==null||e.length===0}e.isEmptyOrNull=n;function i(e){return v(e)==null}e.isTrimmedEmpty=i;function r(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return(i=ss).formatString.apply(i,[e].concat(t));var i}e.format=r;function a(e,t,n){if(n===void 0){n=" "}while(e.length<t)e="0"+e;return e}e.padLeft=a;function o(e,t){return ss.startsWithString(e,t)}e.startsWith=o;var s=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}];var l={};for(var u=0;u<s.length;u++){var f=s[u].letters;for(var c=0;c<f.length;c++){l[f[c]]=s[u].base}}function d(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return l[e]||e})}e.stripDiacritics=d;function g(t){return e.replaceAll(e.replaceAll(h(t),"\r\n"," "),"\n"," ").trim()}e.toSingleLine=g;function p(e){return(e==null?"":e).replace(new RegExp("^\\s+|\\s+$","g"),"")}e.trim=p;function h(e){if(e==null||e.length===0){return""}return p(e)}e.trimToEmpty=h;function v(e){if(e==null||e.length===0){return null}e=p(e);if(e.length===0){return null}else{return e}}e.trimToNull=v;var m;function y(e,t){var n="AaBbCcÇçFfGgĞğHhIıİiJjKkLlMmNnOoÖöPpRrSsŞşTtUuÜüVvYyZz";e=e||"";t=t||"";if(e==t)return 0;if(!m){m={};for(var i=0;i<n.length;i++){m[n.charAt(i)]=i+1}}for(var r=0,a=Math.min(e.length,t.length);r<a;r++){var o=e.charAt(r),s=t.charAt(r);if(o===s)continue;var l=m[o],u=m[s];if(l!=null&&u!=null)return l<u?-1:1;var f=o.localeCompare(s);if(f==0)continue;return f}return e.localeCompare(t)}e.turkishLocaleCompare=y;function b(e){if(!e)return e;return e.replace(/i/g,"İ").replace(/ı/g,"I").toUpperCase()}e.turkishLocaleToUpper=b;function w(e,t,n){return ss.replaceAllString(e,t,n)}e.replaceAll=w;function C(e,t){var n=e.toString();while(n.length<t)n="0"+n;return n}e.zeroPad=C})(Q||(Q={}));var Q;(function(e){var t;(function(t){t.decimalSeparator=".";t.dateSeparator="/";t.dateOrder="dmy";t.dateFormat="dd/MM/yyyy";t.dateTimeFormat="dd/MM/yyyy HH:mm:ss";function n(){return t.decimalSeparator===","?".":","}t.get_groupSeperator=n;var i=e.trimToNull($("script#ScriptCulture").html());if(i!=null){var r=$.parseJSON(i);if(r.DecimalSeparator!=null)t.decimalSeparator=r.DecimalSeparator;if(r.DateSeparator!=null)t.dateSeparator=r.DateSeparator;if(r.DateOrder!=null)t.dateOrder=r.DateOrder;if(r.DateFormat!=null)t.dateFormat=r.DateFormat;if(r.DateTimeFormat!=null)t.dateTimeFormat=r.DateTimeFormat}})(t=e.Culture||(e.Culture={}))})(Q||(Q={}));var Q;(function(e){function t(t,n,i,r){var o="-";if(isNaN(t)){return null}i=i||e.Culture.decimalSeparator;r=r||e.Culture.get_groupSeperator();var s="";if(n.indexOf(".")>-1){var l=i;var u=n.substring(n.lastIndexOf(".")+1);t=a(t,u.length);var f=t%1;var c=new String(f.toFixed(u.length));c=c.substring(c.lastIndexOf(".")+1);for(var d=0;d<u.length;d++){if(u.charAt(d)=="#"&&c.charAt(d)!="0"){l+=c.charAt(d);continue}else if(u.charAt(d)=="#"&&c.charAt(d)=="0"){var g=c.substring(d);if(g.match("[1-9]")){l+=c.charAt(d);continue}else break}else if(u.charAt(d)=="0")l+=c.charAt(d);else l+=u.charAt(d)}s+=l}else t=Math.round(t);var p=Math.floor(t);if(t<0)p=Math.ceil(t);var h="";if(n.indexOf(".")==-1)h=n;else h=n.substring(0,n.indexOf("."));var v="";if(!(p==0&&h.substr(h.length-1)=="#")){var m=new String(Math.abs(p));var y=9999;if(h.lastIndexOf(",")!=-1)y=h.length-h.lastIndexOf(",")-1;var b=0;for(var d=m.length-1;d>-1;d--){v=m.charAt(d)+v;b++;if(b==y&&d!=0){v=r+v;b=0}}if(h.length>v.length){var w=h.indexOf("0");if(w!=-1){var C=h.length-w;var _=h.length-v.length-1;while(v.length<C){var x=h.charAt(_);if(x==",")x=r;v=x+v;_--}}}}if(!v&&h.indexOf("0",h.length-1)!==-1)v="0";s=v+s;if(t<0)s=o+s;if(s.lastIndexOf(i)==s.length-1){s=s.substring(0,s.length-1)}return s}e.formatNumber=t;var n=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function i(t){t=e.trim(t.toString());var n=e.Culture.get_groupSeperator();if(t&&t.length&&t.indexOf(n)>0){t=t.replace(new RegExp("(\\b\\d{1,3})\\"+n+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!/^[-\+]?\d+$/.test(t))return NaN;return parseInt(t,10)}e.parseInteger=i;function r(t){if(t==null)return null;t=e.trim(t.toString());if(t.length==0)return null;var n=e.Culture.get_groupSeperator();if(t&&t.length&&t.indexOf(n)>0){t=t.replace(new RegExp("(\\b\\d{1,3})\\"+n+"(?=\\d{3}(\\D|$))","g"),"$1")}if(!new RegExp("^\\s*([-\\+])?(\\d*)\\"+e.Culture.decimalSeparator+"?(\\d*)\\s*$").test(t))return NaN;return parseFloat(t.toString().replace(e.Culture.decimalSeparator,"."))}e.parseDecimal=r;function a(e,t){var n=Math.pow(10,t||0);var i=(Math.round(e*n)/n).toString();if(t>0){var r=i.indexOf(".");if(r==-1){i+=".";r=0}else{r=i.length-(r+1)}while(r<t){i+="0";r++}}return parseFloat(i)}function o(e){if(e==null)return null;if(typeof e=="number")return e;e=$.trim(e);if(e==null||!e.length)return null;if(e.length>=15||!/^-?\d+$/.test(e))return e;var t=parseInt(e,10);if(isNaN(t))return e;return t}e.toId=o})(Q||(Q={}));var Q;(function(e){function t(t,n){if(!t){return""}if(n==null){n=e.Culture.dateFormat}var i=function(t){return e.zeroPad(t,2)};return n.replace(new RegExp("dd?|MM?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|fff|zz?z?|\\/","g"),function(n){switch(n){case"/":return e.Culture.dateSeparator;case"hh":return i(t.getHours()<13?t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours():t.getHours()-12;case"HH":return i(t.getHours());case"H":return t.getHours();case"mm":return i(t.getMinutes());case"m":return t.getMinutes();case"ss":return i(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substr(2,4);case"dd":return i(t.getDate());case"d":return t.getDate().toString();case"MM":return i(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?"A":"P";case"tt":return t.getHours()<12?"AM":"PM";case"fff":return e.zeroPad(t.getMilliseconds(),3);case"zzz":case"zz":case"z":return"";default:return n}})}e.formatDate=t;function n(t){if(t===0)return"0";else if(!t)return"";var n=Math.floor(t/24/60);var i="";if(n>0){i+=n.toString()}var r=e.zeroPad(Math.floor(t%(24*60)/60),2)+":"+e.zeroPad(t%60,2);if(r!="00:00"){if(n>0)i+=".";i+=r}return i}e.formatDayHourAndMin=n;function i(e){if(e==null)return"";var t=function(e){return(e<10?"0":"")+e};var n=e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes());var i=Number(e.getUTCSeconds()+"."+(e.getUTCMilliseconds()<100?"0":"")+t(e.getUTCMilliseconds()));n+=":"+t(i)+"Z";return n}e.formatISODateTimeUTC=i;var r=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function a(e){if(!e||!e.length)return null;var t=Date.parse(e);if(!isNaN(t)&&typeof t=="Date")return t;e=e+"";if(typeof e!="string"||e.length===0){return null}var n=e.match(r);if(typeof n=="undefined"||n===null){return null}var i,a,o,s,l,u,f;i=parseInt(n[1],10);if(typeof n[2]=="undefined"||n[2]===""){return new Date(i)}a=parseInt(n[2],10)-1;o=parseInt(n[3],10);if(typeof n[4]=="undefined"||n[4]===""){return new Date(i,a,o)}s=parseInt(n[4],10);l=parseInt(n[5],10);u=typeof n[6]!="undefined"&&n[6]!==""?parseInt(n[6],10):0;if(typeof n[7]!="undefined"&&n[7]!==""){f=Math.round(1e3*parseFloat("0."+n[7]))}else{f=0}if((typeof n[8]=="undefined"||n[8]==="")&&(typeof n[9]=="undefined"||n[9]==="")){return new Date(i,a,o,s,l,u,f)}var c;if(typeof n[9]!="undefined"&&n[9]!==""){c=parseInt(n[10],10)*36e5;if(typeof n[11]!="undefined"&&n[11]!==""){c+=parseInt(n[11],10)*6e4}if(n[9]=="-"){c=-c}}else{c=0}return new Date(Date.UTC(i,a,o,s,l,u,f)-c)}e.parseISODateTime=a;function o(t){var n=e.trim(t);if(n.length<4||n.length>5)return NaN;var i,r;if(n.charAt(1)==":"){i=e.parseInteger(n.substr(0,1));r=e.parseInteger(n.substr(2,2))}else{if(n.charAt(2)!=":")return NaN;i=e.parseInteger(n.substr(0,2));r=e.parseInteger(n.substr(3,2))}if(isNaN(i)||isNaN(r)||i<0||i>23||r<0||r>59)return NaN;return i*60+r}e.parseHourAndMin=o;function s(t){var n;var i=e.trim(t);if(!i)return NaN;var r=i.split(".");if(r.length==0||r.length>2)return NaN;if(r.length==1){n=e.parseInteger(r[0]);if(!isNaN(n))return n*24*60;return o(r[0])}else{n=e.parseInteger(r[0]);var a=o(r[1]);if(isNaN(n)||isNaN(a))return NaN;return n*24*60+a}}e.parseDayHourAndMin=s;function l(t,n){if(!t||!t.length)return null;var i;var r;var a,o,s;r=u(t);if(!r)return false;if(r.length==3){n=n||e.Culture.dateOrder;switch(n){case"dmy":a=parseInt(r[0],10);o=parseInt(r[1],10)-1;s=parseInt(r[2],10);break;case"ymd":a=parseInt(r[2],10);o=parseInt(r[1],10)-1;s=parseInt(r[0],10);break;case"mdy":default:a=parseInt(r[1],10);o=parseInt(r[0],10)-1;s=parseInt(r[2],10);break}if(isNaN(a)||isNaN(o)||isNaN(s)||a<1||a>31||o<0||o>11||s>9999||s<0)return false;if(s<100){var l=(new Date).getFullYear();var f=l%100+10;s+=l-l%100+(s<=f?0:-100)}try{i=new Date(s,o,a);if(isNaN(i.getFullYear()))return false}catch(c){return false}}else if(r.length==1){try{i=new Date(r[0]);if(isNaN(i.getFullYear()))return false}catch(c){return false}}return i}e.parseDate=l;function u(t){t=e.trim(t);if(!t.length)return;if(t.indexOf("/")>=0)return t.split("/");else if(t.indexOf(".")>=0)return t.split(".");else if(t.indexOf("-")>=0)return t.split("-");else if(t.indexOf("\\")>=0)return t.split("\\");else return[t]}e.splitDateString=u})(Q||(Q={}));var Q;(function(e){function t(e){var t=i.$table[e];if(t==null){t=e||""}return t}e.text=t;function n(e){return i.$table[e]}e.tryGetText=n;var i=function(){function e(e){this.key=e}e.add=function(t,n){if(!t){return}n=n||"";for(var i=0,r=Object.keys(t);i<r.length;i++){var a=r[i];var o=n+a;var s=t[a];if(typeof s==="object"){e.add(s,o+".")}else{e.$table[o]=s}}};e.prototype.get=function(){var t=e.$table[this.key];if(t==null){t=this.key||""}return t};e.prototype.toString=function(){var t=e.$table[this.key];if(t==null){t=this.key||""}return t};e.$table={};e.empty=new e("");e.initializeTextClass=function(t,n){var i=Object.keys(t).slice();for(var r=0;r<i.length;r++){var a=i[r];var o=t[a];if(o instanceof e){var s=o;var l=n+a;e.$table[l]=s.$key;t[a]=new e(l)}}};e.getDefault=function(t,n){var i=e.$table[t];if(i==null){i=n;if(i==null){i=t||""}}return i};return e}();e.LT=i})(Q||(Q={}));var Q;(function(e){var t=function(){function t(e,t){this.items=[];this.itemById={};e=e||{};this.textFormatter=e.textFormatter;this.idField=e.idField;this.parentIdField=e.parentIdField;this.textField=e.textField;this.textFormatter=e.textFormatter;if(t!=null)this.update(t)}t.prototype.update=function(t){this.items=[];this.itemById={};if(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.items.push(r)}}var a=this.idField;if(!e.isEmptyOrNull(a)){for(var o=0,s=this.items;o<s.length;o++){var l=s[o];var u=l[a];if(u!=null){this.itemById[u]=l}}}};t.prototype.get_idField=function(){return this.idField};t.prototype.get_parentIdField=function(){return this.parentIdField};t.prototype.get_textField=function(){return this.textField};t.prototype.get_textFormatter=function(){return this.textFormatter};t.prototype.get_itemById=function(){return this.itemById};t.prototype.get_items=function(){return this.items};return t}();e.Lookup=t})(Q||(Q={}));var Q;(function(e){var t=0;function n(e){if(t>0){t++;return}$.blockUI(e);t++}function i(e){e=$.extend({baseZ:2e3,message:"",overlayCSS:{opacity:"0.0",zIndex:2e3,cursor:"wait"},fadeOut:0},e);if(e.useTimeout){window.setTimeout(function(){n(e)},0)}else{n(e)}}e.blockUI=i;function r(){if(t>1){t--;return}t--;$.unblockUI({fadeOut:0})}e.blockUndo=r})(Q||(Q={}));var Q;(function(e){function t(e,t,n){$("<option/>").val(t).text(n).appendTo(e)}e.addOption=t;function n(n){t(n,"",e.text("Controls.SelectEditor.EmptyItemText"))}e.addEmptyOption=n;function i(e){e.html("")}e.clearOptions=i;function r(t,n){var i=t.attr("id");if(e.isEmptyOrNull(i)){return $("#"+n)}var r=$(i+n);if(r.length>0){return r}r=$(i+"_"+n);if(r.length>0){return r}while(true){var a=i.lastIndexOf("_");if(a<=0){return $("#"+n)}i=i.substr(0,a);r=$("#"+i+"_"+n);if(r.length>0){return r}}}e.findElementWithRelativeId=r;function a(e){switch(e){case"&":return"&amp;";case">":return"&gt;";case"<":return"&lt;"}return e}function o(e){var t=e==null?"":e.toString();if(new RegExp("[><&]","g").test(t)){return t.replace(new RegExp("[><&]","g"),a)}return t}e.htmlEncode=o;function s(t,n){if(!t||t.indexOf("{{")<0){return t}if(!$.templates||!$.views){throw new ss.Exception("Please make sure that jsrender.js is included in the page!")}n=n||{};var i=$.templates(t);$.views.converters({text:e.text},i);return i.render(n)}e.jsRender=s;function l(e){window.console&&window.console.log(e)}e.log=l;function u(){return $("<div/>").appendTo(document.body)}e.newBodyDiv=u;function f(e){return $("<i/>").append(e.eq(0).clone()).html()}e.outerHtml=f})(Q||(Q={}));var Q;(function(e){function t(t,n){var i;n=$.extend({htmlEncode:true,okButton:e.text("Dialogs.OkButton"),title:e.text("Dialogs.AlertTitle"),onClose:null,onOpen:null,autoOpen:false,dialogClass:"s-MessageDialog s-AlertDialog",modal:true,width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(n.onOpen)n.onOpen.call(this)},close:function(){i.dialog("destroy");if(n.onClose)n.onClose()}},n);if(n.htmlEncode)t=e.htmlEncode(t);if(!n.buttons){var r=[];r.push({text:n.okButton,click:function(){i.dialog("close")}});n.buttons=r}i=$('<div><div class="message"></div></div>').dialog(n).children(".message").html(t).parent().dialog("open")}e.alert=t;function n(t,n,i){var r;i=$.extend({htmlEncode:true,yesButton:e.text("Dialogs.YesButton"),noButton:e.text("Dialogs.NoButton"),title:e.text("Dialogs.ConfirmationTitle"),onNo:null,onCancel:null,onClose:null,autoOpen:false,modal:true,dialogClass:"s-MessageDialog s-ConfirmDialog",width:"40%",maxWidth:"450",minWidth:"180",resizable:false,open:function(){if(i.onOpen)i.onOpen.call(this)},close:function(){r.dialog("destroy");if(!a&&i.onCancel)i.onCancel()},overlay:{opacity:.77,background:"black"}},i);if(i.htmlEncode)t=e.htmlEncode(t);var a=false;if(!i.buttons){var o=[];o.push({text:i.yesButton,click:function(){a=true;r.dialog("close");if(n)n()}});if(i.noButton)o.push({text:i.noButton,click:function(){a=true;r.dialog("close");if(i.onNo)i.onNo();else if(i.onCancel)i.onCancel()}});i.buttons=o}r=$('<div><div class="message"></div></div>').dialog(i).children(".message").html(t).parent().dialog("open")}e.confirm=n;function i(t){var n;var i=$("<div><iframe></iframe></div>");var r=$.extend({autoOpen:true,modal:true,width:"60%",height:"400",title:e.text("Dialogs.AlertTitle"),open:function(){n=i.find("iframe").css({border:"none",width:"100%",height:"100%"})[0].contentDocument;n.open();n.write(r.html);n.close()},close:function(){n.open();n.write("");n.close();i.dialog("destroy").html("")}},t);i.dialog(r)}e.iframeDialog=i;function r(t,i,r){n(t,i,$.extend({title:e.text("Dialogs.InformationTitle"),dialogClass:"s-MessageDialog s-InformationDialog",yesButton:e.text("Dialogs.OkButton"),noButton:null},r))}e.information=r;function a(n,i){t(n,$.extend({title:e.text("Dialogs.WarningTitle"),dialogClass:"s-MessageDialog s-WarningDialog"},i))}e.warning=a})(Q||(Q={}));var Q;(function(e){e.defaultNotifyOptions={timeOut:3e3,showDuration:250,hideDuration:500,extendedTimeOut:500,positionClass:"toast-top-full-width"};function t(t){t=$.extend({},e.defaultNotifyOptions,t);o(true);return t}function n(e,n,i){toastr.warning(e,n,t(i))}e.notifyWarning=n;function i(e,n,i){toastr.success(e,n,t(i))}e.notifySuccess=i;function r(e,n,i){toastr.info(e,n,t(i))}e.notifyInfo=r;function a(e,n,i){toastr.error(e,n,t(i))}e.notifyError=a;function o(e){if(typeof toastr==="undefined"){return}var t=$(window.document.body).children(".ui-dialog:visible").last();var n=toastr.getContainer(null,e);if(n.length===0){return}if(t.length>0){var i=t.position();n.addClass("positioned-toast toast-top-full-width");n.css({position:"absolute",top:i.top+28+"px",left:i.left+6+"px",width:t.width()-12+"px"})}else{n.addClass("toast-top-full-width");if(n.hasClass("positioned-toast")){n.removeClass("positioned-toast");n.css({position:"",top:"",left:"",width:""})}}}e.positionToastContainer=o})(Q||(Q={}));var Q;(function(e){var t;(function(e){e.applicationPath="/";var t=$("link#ApplicationPath");if(t.length>0){e.applicationPath=t.attr("href")}e.emailAllowOnlyAscii=true;e.responsiveDialogs=false;e.rootNamespaces=["Serenity"];e.notLoggedInHandler=null})(t=e.Config||(e.Config={}))})(Q||(Q={}));var Q;(function(e){function t(e){var t;if(e===undefined)t=location.search.substring(1,location.search.length);else t=e||"";var n={};var i=t.split("&");for(var r=0;r<i.length;r++){var a=i[r].split("=");var o=decodeURIComponent(a[0]);n[o]=a.length>=2?decodeURIComponent(a[1]):o}return n}e.parseQueryString=t;function n(e){var t=$("<form/>").attr("method","POST").attr("action",e.url?r(e.url):r("~/services/"+e.service)).appendTo(document.body);if(e.target)t.attr("target",e.target);var n=$("<div/>").appendTo(t);$("<input/>").attr("type","hidden").attr("name","request").val($["toJSON"](e.request)).appendTo(n);$("<input/>").attr("type","submit").appendTo(n);t.submit();window.setTimeout(function(){t.remove()},0)}e.postToService=n;function i(e){var t=$("<form/>").attr("method","POST").attr("action",r(e.url)).appendTo(document.body);if(e.target)t.attr("target",e.target);var n=$("<div/>").appendTo(t);if(e.params!=null){for(var i in e.params){$("<input/>").attr("type","hidden").attr("name",i).val(e.params[i]).appendTo(n)}}$("<input/>").attr("type","submit").appendTo(n);t.submit();window.setTimeout(function(){t.remove()},0)}e.postToUrl=i;function r(t){if(t&&t.substr(0,2)==="~/"){return e.Config.applicationPath+t.substr(2)}return t}e.resolveUrl=r})(Q||(Q={}));var Q;(function(e){var t;(function(t){function n(t){var n;if(t==null){n="??ERROR??"}else{n=t.Message;if(n==null){n=t.Code}}e.alert(n)}t.showServiceError=n})(t=e.ErrorHandling||(e.ErrorHandling={}))})(Q||(Q={}));var Q;(function(e){function t(t){var n=function(n){if(e.Config.notLoggedInHandler!=null&&n&&n.Error&&n.Error.Code=="NotLoggedIn"&&e.Config.notLoggedInHandler(t,n)){return}if(t.onError!=null){t.onError(n);return}e.ErrorHandling.showServiceError(n.Error)};var i=t.service;if(i&&i.length&&i.charAt(0)!="~"&&i.charAt(0)!="/"&&i.indexOf("://")<0)i=e.resolveUrl("~/services/")+i;t=$.extend({dataType:"json",contentType:"application/json",type:"POST",cache:false,blockUI:true,url:i,data:$.toJSON(t.request),success:function(n,i,r){try{if(!n.Error&&t.onSuccess){t.onSuccess(n)}}finally{if(t.blockUI){e.blockUndo()}t.onCleanup&&t.onCleanup()}},error:function(i,r,a){try{if(i.status===403){var o=null;try{o=i.getResponseHeader("Location")}catch(s){o=null}if(o){window.top.location.href=o;return}}if((i.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var l=$.parseJSON(i.responseText);if(l&&l.Error){n(l);return}}var u=i.responseText;e.iframeDialog({html:u})}finally{if(t.blockUI){e.blockUndo()}t.onCleanup&&t.onCleanup()}}},t);if(t.blockUI){e.blockUI(null)}return $.ajax(t)}e.serviceCall=t;function n(e,n,i,r){return t($.extend({service:e,request:n,onSuccess:i},r))}e.serviceRequest=n;function i(e,t,n){if(e.EqualityFilter==null){e.EqualityFilter={}}e.EqualityFilter[t]=n}e.setEquality=i})(Q||(Q={}));var Q;(function(e){function t(e){$("body").addClass("full-height-page");var t=function(){var t;try{t=parseInt($(".page-content").css("min-height")||"0")-parseInt($(".page-content").css("padding-top")||"0")-parseInt($(".page-content").css("padding-bottom")||"0")}catch(n){t=100}e(t)};if(window.Metronic){window.Metronic.addResizeHandler(t)}else{$(window).resize(t)}t()}e.addFullHeightResizeHandler=t;function n(e){e.css("height","100%");s(e)}e.autoFullHeight=n;function i(e){$("body").addClass("full-height-page");e.addClass("responsive-height");var t=function(){var t=e.parent().hasClass("page-content")||e.parent().is("section.content");if(t){e.css("height","1px").css("overflow","hidden")}a(e);if(t){e.css("overflow","")}e.triggerHandler("layout")};if($("body").hasClass("has-layout-event")){$("body").bind("layout",t)}else if(window.Metronic){window.Metronic.addResizeHandler(t)}else{$(window).resize(t)}t()}e.initFullHeightGridPage=i;function r(e){var t=0;e.parent().children().not(e).each(function(e,n){var i=$(n);if(i.is(":visible")){t+=i.outerHeight(true)}});t=e.parent().height()-t;if(e.css("box-sizing")!=="border-box"){t=t-(e.outerHeight(true)-e.height())}return t}e.layoutFillHeightValue=r;function a(e){var t=r(e);var n=t+"px";if(e.css("height")!=n){e.css("height",n)}}e.layoutFillHeight=a;function o(){var e=navigator.userAgent.indexOf("Mobi")>=0||window.matchMedia("(max-width: 767px)").matches;var t=$(document.body);if(t.hasClass("mobile-device")){if(!e){t.removeClass("mobile-device")}}else if(e){t.addClass("mobile-device")}}e.setMobileDeviceMode=o;function s(e){Serenity.LazyLoadHelper.executeEverytimeWhenShown(e,function(){e.triggerHandler("layout")},true)}e.triggerLayoutOnShow=s;function l(e){if(!e.hasClass("ui-dialog"))e=e.closest(".ui-dialog");e.position({at:"center center",of:window});var t=e.position();if(t.left<0)e.css("left","0px");if(t.top<0)e.css("top","0px")}e.centerDialog=l})(Q||(Q={}));var Q;(function(e){var t;(function(t){var n={};var i={};function r(e,t,n){$(document.body).bind("scriptdatachange."+t,function(t,i){if(i==e){n()}})}t.bindToChange=r;function a(e){$(document.body).triggerHandler("scriptdatachange",[e])}t.triggerChange=a;function o(e){$(document.body).unbind("scriptdatachange."+e)}t.unbindFromChange=o;function s(e){$.ajax({async:false,cache:true,type:"GET",url:e,data:null,dataType:"script"})}function l(t){return RSVP.resolve().then(function(){e.blockUI(null);return RSVP.resolve($.ajax({async:true,cache:true,type:"GET",url:t,data:null,dataType:"script"}).always(function(){e.blockUndo()}))},null)}function u(t){if(n[t]==null){throw new Error(e.format("Script data {0} is not found in registered script list!",t))}t=t+".js?"+n[t];s(e.resolveUrl("~/DynJS.axd/")+t)}function f(t){return RSVP.resolve().then(function(){if(n[t]==null){throw new Error(e.format("Script data {0} is not found in registered script list!",t))}t=t+".js?"+n[t];return l(e.resolveUrl("~/DynJS.axd/")+t)},null)}function c(t){var n=i[t];if(n==null){u(t)}n=i[t];if(n==null)throw new Error(e.format("Can't load script data: {0}!",t));return n}t.ensure=c;function d(t){return RSVP.resolve().then(function(){var n=i[t];if(n!=null){return RSVP.resolve(n)}return f(t).then(function(){n=i[t];if(n==null){throw new Error(e.format("Can't load script data: {0}!",t))}return n},null)},null)}t.ensureAsync=d;function g(t){if(n[t]==null){throw new Error(e.format("Script data {0} is not found in registered script list!",t))}n[t]=(new Date).getTime().toString();u(t);var r=i[t];return r}t.reload=g;function p(t){return RSVP.resolve().then(function(){if(n[t]==null){throw new Error(e.format("Script data {0} is not found in registered script list!",t))}n[t]=(new Date).getTime().toString();return f(t).then(function(){return i[t]},null)},null)}t.reloadAsync=p;function h(e){return i[e]!=null||n[e]!=null}t.canLoad=h;function v(e){n={};for(var t in e){n[t]=e[t].toString()}}t.setRegisteredScripts=v;function m(e,t){i[e]=t;a(e)}t.set=m})(t=e.ScriptData||(e.ScriptData={}));function n(e){return t.ensure("RemoteData."+e)}e.getRemoteData=n;function i(e){return t.ensureAsync("RemoteData."+e)}e.getRemoteDataAsync=i;function r(e){return t.ensure("Lookup."+e)}e.getLookup=r;function a(e){return t.ensureAsync("Lookup."+e)}e.getLookupAsync=a;function o(e){t.reload("Lookup."+e)}e.reloadLookup=o;function s(e){return t.reloadAsync("Lookup."+e)}e.reloadLookupAsync=s;function l(e){return t.ensure("Columns."+e)}e.getColumns=l;function u(e){return t.ensureAsync("Columns."+e)}e.getColumnsAsync=u;function f(e){return t.ensure("Form."+e)}e.getForm=f;function c(e){return t.ensureAsync("Form."+e)}e.getFormAsync=c;function d(e){return t.ensure("Template."+e)}e.getTemplate=d;function g(e){return t.ensureAsync("Template."+e)}e.getTemplateAsync=g;function p(e){return t.canLoad(e)}e.canLoadScriptData=p})(Q||(Q={}));var Q;(function(e){function t(e,t,n,i){n=n||"get_"+t;i=i||"set_"+t;Object.defineProperty(e.prototype,t,{get:function(){return this[n]()},set:function(e){return this[i](e)},configurable:true,enumerable:true})}e.prop=t;function n(e,t,n){function i(e,t,r){if(!e)return;if($.isArray(e)||e instanceof Date)return;var a=typeof e;if(a=="string"||a=="number")return;if($.isFunction(e)||e.__enum&&e.__register)n(e,t);if(r>3)return;for(var o=0,s=Object.keys(e);o<s.length;o++){var l=s[o];if(l.charAt(0)<"A"||l.charAt(0)>"Z")continue;if(l.indexOf("$")>=0)continue;if(l=="prototype")continue;i(e[l],t+"."+l,r+1)}}for(var r=0,a=t;r<a.length;r++){var o=a[r];if(o==null||!o.length){continue}if(o.indexOf(".")>=0){var s=e;var l=o.split(".");for(var u=0,f=l;u<f.length;u++){var c=f[u];if(!c.length)continue;s=s[c];if(!s)continue}i(s,o,0)}i(e[o],o,0)}}(function(t){if(typeof RSVP!==undefined){RSVP.on&&RSVP.on(function(t){e.log(t);e.log(t.get_stack&&t.get_stack()||t.stack)})}ss.initAssembly({},"App",{});t.Q$Externals=e;t.Q$Config=e.Config;t.Q$Culture=e.Culture;t.Q$Lookup=e.Lookup;t.Q$ScriptData=e.ScriptData;t.Q$LT=e.LT;function i(){n(t,e.Config.rootNamespaces,function(e,t){if(e.hasOwnProperty("__typeName")&&!e.__register)return;if(!e.__interfaces&&e.prototype.format&&t.substr(-9)=="Formatter"){e.__class=true;e.__interfaces=[Serenity.ISlickFormatter]}if(!e.__class){var n=ss.getBaseType(e);if(n.__class)e.__class=true}if(e.__class||e.__enum){e.__typeName=t;if(!e.__assembly){e.__assembly=ss.__assemblies["App"]}e.__assembly.__types[t]=e}delete e.__register})}$(function(){i();e.setMobileDeviceMode();$(t).bind("resize",function(){e.setMobileDeviceMode()})})})(window||{})})(Q||(Q={}));var Serenity;(function(e){var t=function(){function e(e){this.value=e}return e}();e.ColumnsKeyAttribute=t;var n=function(){function e(e){this.value=e}return e}();e.DialogTypeAttribute=n;var i=function(){function e(){}return e}();e.EditorAttribute=i;var r=function(){function e(e){this.value=e}return e}();e.ElementAttribute=r;var a=function(){function e(e){this.value=e}return e}();e.EntityTypeAttribute=a;var o=function(){function e(e){this.value=e}return e}();e.EnumKeyAttribute=o;var s=function(){function e(e){if(e===void 0){e=true}this.value=e}return e}();e.FlexifyAttribute=s;var l=function(){function e(e){this.value=e}return e}();e.FormKeyAttribute=l;var u=function(){function e(e){this.origin=e}return e}();e.GeneratedCodeAttribute=u;var f=function(){function e(e){this.value=e}return e}();e.IdPropertyAttribute=f;var c=function(){function e(e){this.value=e}return e}();e.IsActivePropertyAttribute=c;var d=function(){function e(e){this.value=e}return e}();e.ItemNameAttribute=d;var g=function(){function e(e){this.value=e}return e}();e.LocalTextPrefixAttribute=g;var p=function(){function e(e){if(e===void 0){e=true}this.value=e}return e}();e.MaximizableAttribute=p;var h=function(){function e(e){this.value=e}return e}();e.NamePropertyAttribute=h;var v=function(){function e(){}return e
}();e.OptionAttribute=v;var m=function(){function e(e){this.value=e}return e}();e.OptionsTypeAttribute=m;var y=function(){function e(e){if(e===void 0){e=true}this.value=e}return e}();e.PanelAttribute=y;var b=function(){function e(e){if(e===void 0){e=true}this.value=e}return e}();e.ResizableAttribute=b;var w=function(){function e(e){if(e===void 0){e=true}this.value=e}return e}();e.ResponsiveAttribute=w;var C=function(){function e(e){this.value=e}return e}();e.ServiceAttribute=C})(Serenity||(Serenity={}));var Serenity;(function(e){var t;(function(t){function n(e,t){var n=e.__metadata;e.__metadata=e.__metadata||{};e.__metadata.attr=e.__metadata.attr||[];e.__metadata.attr.push(t)}t.addAttribute=n;function i(e,t,n){var i=e.__metadata;e.__metadata=e.__metadata||{};e.__metadata.members=e.__metadata.members||[];var r=undefined;for(var a=0,o=e.__metadata.members;a<o.length;a++){var s=o[a];if(s.name==t){r=s;break}}if(!r){r={name:t,attr:[],type:4,returnType:Object,sname:t};e.__metadata.members.push(r)}r.attr=r.attr||[];r.attr.push(n)}t.addMemberAttr=i;function r(t){return function(i){n(i,new e.ColumnsKeyAttribute(t))}}t.columnsKey=r;function a(t){return function(i){n(i,new e.DialogTypeAttribute(t))}}t.dialogType=a;function o(t){return function(i){var r=new e.EditorAttribute;if(t!==undefined)r.key=t;n(i,r)}}t.editor=o;function s(t){return function(i){n(i,new e.ElementAttribute(t))}}t.element=s;function l(t){return function(i){n(i,new e.EntityTypeAttribute(t))}}t.entityType=l;function u(t){return function(i){n(i,new e.EnumKeyAttribute(t))}}t.enumKey=u;function f(t){if(t===void 0){t=true}return function(i){n(i,new e.FlexifyAttribute(t))}}t.flexify=f;function c(t){return function(i){n(i,new e.FormKeyAttribute(t))}}t.formKey=c;function d(t){return function(i){n(i,new e.GeneratedCodeAttribute(t))}}t.generatedCode=d;function g(t){return function(i){n(i,new e.IdPropertyAttribute(t))}}t.idProperty=g;function p(e,t){return function(n){n.__register=true;n.__class=true;n.__assembly=t||ss.__assemblies["App"];if(e)n.__interfaces=e}}t.registerClass=p;function h(t,i,r){if(!t.__enum){Object.defineProperty(t,"__enum",{get:function(){return true}});t.prototype=t.prototype||{};for(var a=0,o=Object.keys(t);a<o.length;a++){var s=o[a];if(isNaN(Q.parseInteger(s))&&t[s]!=null&&!isNaN(Q.parseInteger(t[s])))t.prototype[s]=t[s]}t.__register=true;if(i)n(t,new e.EnumKeyAttribute(i))}}t.registerEnum=h;function v(e,t){return p(e,t)}t.registerEditor=v;function m(t,n){if(t===void 0){t=[e.ISlickFormatter]}return p(t,n)}t.registerFormatter=m;function y(t){if(t===void 0){t=true}return function(i){n(i,new e.FilterableAttribute(t))}}t.filterable=y;function b(t){return function(i){n(i,new e.ItemNameAttribute(t))}}t.itemName=b;function w(t){return function(i){n(i,new e.IsActivePropertyAttribute(t))}}t.isActiveProperty=w;function C(t){return function(i){n(i,new e.LocalTextPrefixAttribute(t))}}t.localTextPrefix=C;function _(t){if(t===void 0){t=true}return function(i){n(i,new e.MaximizableAttribute(t))}}t.maximizable=_;function x(t){return function(i){n(i,new e.NamePropertyAttribute(t))}}t.nameProperty=x;function $(){return function(t,n){i(t.constructor,n,new e.OptionAttribute)}}t.option=$;function S(t){return function(i){n(i,new e.OptionsTypeAttribute(t))}}t.optionsType=S;function T(t){if(t===void 0){t=true}return function(i){n(i,new e.PanelAttribute(t))}}t.panel=T;function P(t){if(t===void 0){t=true}return function(i){n(i,new e.ResizableAttribute(t))}}t.resizable=P;function A(t){if(t===void 0){t=true}return function(i){n(i,new e.ResponsiveAttribute(t))}}t.responsive=A;function k(t){return function(i){n(i,new e.ServiceAttribute(t))}}t.service=k})(t=e.Decorators||(e.Decorators={}))})(Serenity||(Serenity={}));var Serenity;(function(e){function t(e){return[e]}e.Criteria=t;var t;(function(e){var t=e;function n(e){return e==null||e.length===0||e.length===1&&typeof e[0]=="string"&&e[0].length===0}e.isEmpty=n;function i(e,n,i){if(t.isEmpty(e))return i;if(t.isEmpty(i))return e;return[e,n,i]}e.join=i;function r(e){return t.isEmpty(e)?e:["()",e]}e.paren=r;function a(e,t){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var a=i(e,"and",t);if(n){for(var o=0,s=n;o<s.length;o++){var l=s[o];a=i(a,"and",l)}}return a}e.and=a;function o(e,t){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}var a=i(e,"or",t);if(n){for(var o=0,s=n;o<s.length;o++){var l=s[o];a=i(a,"or",l)}}return a}e.or=o})(t=e.Criteria||(e.Criteria={}))})(Serenity||(Serenity={}));var Serenity;(function(e){var t;(function(e){var t=0;function n(e,n){t++;var i="ExecuteOnceWhenShown"+t;var r=false;if(e.is(":visible")){n()}else{var a=e.closest(".ui-tabs");if(a.length>0){a.bind("tabsshow."+i,function(t){if(e.is(":visible")){a.unbind("tabsshow."+i);if(!r){r=true;e.unbind("shown."+i);n()}}})}var o;if(e.hasClass("ui-dialog")){o=e.children(".ui-dialog-content")}else{o=e.closest(".ui-dialog-content")}if(o.length>0){o.bind("dialogopen."+i,function(){o.unbind("dialogopen."+i);if(e.is(":visible")&&!r){r=true;e.unbind("shown."+i);n()}})}e.bind("shown."+i,function(){if(e.is(":visible")){e.unbind("shown."+i);if(!r){r=true;n()}}})}}e.executeOnceWhenShown=n;function i(e,n,i){t++;var r="ExecuteEverytimeWhenShown"+t;var a=e.is(":visible");if(a&&i){n()}var o=function(t){if(e.is(":visible")){if(!a){a=true;n()}}else{a=false}};var s=e.closest(".ui-tabs");if(s.length>0){s.bind("tabsactivate."+r,o)}var l=e.closest(".ui-dialog-content");if(l.length>0){l.bind("dialogopen."+r,o)}e.bind("shown."+r,o)}e.executeEverytimeWhenShown=i})(t=e.LazyLoadHelper||(e.LazyLoadHelper={}))})(Serenity||(Serenity={}));var Serenity;(function(e){var t;(function(e){function t(e,t,n){if(!e)return;var r=i(e);if(!r)return;var a=r[t];if(a==null){return}if(a===e.tabs("option","active")){e.tabs("option","active",0)}e.tabs(n?"disable":"enable",a)}e.setDisabled=t;function n(e){var t=e.children("ul").children("li").eq(e.tabs("option","active")).children("a").attr("href").toString();var n="_Tab";var i=t.lastIndexOf(n);if(i>=0){t=t.substr(i+n.length)}return t}e.activeTabKey=n;function i(e){var t=e.data("indexByKey");if(!t){t={};e.children("ul").children("li").children("a").each(function(e,n){var i=n.getAttribute("href").toString();var r="_Tab";var a=i.lastIndexOf(r);if(a>=0){i=i.substr(a+r.length)}t[i]=e});e.data("indexByKey",t)}return t}e.indexByKey=i})(t=e.TabsExtensions||(e.TabsExtensions={}))})(Serenity||(Serenity={}));var Serenity;(function(e){var t=function(){function t(e,n){var i=this;this.element=e;this.options=n||{};this.widgetName=t.getWidgetName(ss.getInstanceType(this));this.uniqueName=this.widgetName+(t.nextWidgetNumber++).toString();if(e.data(this.widgetName)){throw new ss.Exception(Q.format("The element already has widget '{0}'!",this.widgetName))}e.bind("remove."+this.widgetName,function(e){if(e.bubbles||e.cancelable){return}i.destroy()}).data(this.widgetName,this);this.addCssClass();if(this.isAsyncWidget()){window.setTimeout(function(){if(e&&!i.asyncPromise){i.asyncPromise=i.initializeAsync()}},0)}}t.prototype.destroy=function(){this.element.removeClass("s-"+ss.getTypeName(ss.getInstanceType(this)));this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.element=null;this.asyncPromise=null};t.prototype.addCssClass=function(){this.element.addClass(this.getCssClass())};t.prototype.getCssClass=function(){var e=ss.getInstanceType(this);var t="s-"+ss.getTypeName(e);var n=Q.replaceAll(ss.getTypeFullName(e),".","-");for(var i=0,r=Q.Config.rootNamespaces;i<r.length;i++){var a=r[i];if(Q.startsWith(n,a+"-")){n=n.substr(a.length+1);break}}n="s-"+n;if(t===n){return t}return t+" "+n};t.prototype.initializeAsync=function(){return RSVP.resolve()};t.prototype.isAsyncWidget=function(){return ss.isInstanceOfType(this,e.IAsyncInit)};t.getWidgetName=function(e){return Q.replaceAll(ss.getTypeFullName(e),".","_")};t.elementFor=function(t){var n=ss.getAttributes(t,e.ElementAttribute,true);var i=n.length>0?n[0].value:"<input/>";return $(i)};t.create=function(n){var i;if(ss.isAssignableFrom(e.IDialog,n.type)){i=new n.type(n.options);if(n.container)i.element.appendTo(n.container);n.element&&n.element(i.element)}else{var r=t.elementFor(n.type);if(n.container)r.appendTo(n.container);n.element&&n.element(r);i=new n.type(r,n.options)}i.init(n.init);return i};t.prototype.init=function(e){var t=this;var n=this.initialize();if(e){n.then(function(){return e(t)})}return this};t.prototype.initialize=function(){if(!this.isAsyncWidget()){return RSVP.resolve()}if(!this.asyncPromise){this.asyncPromise=this.initializeAsync()}return this.asyncPromise};t.nextWidgetNumber=0;t=__decorate([e.Decorators.registerClass()],t);return t}();e.Widget=t})(Serenity||(Serenity={}));var Serenity;(function(e){var t=function(t){__extends(n,t);function n(e,n){t.call(this,e,n);this.idPrefix=this.uniqueName+"_";var i=this.getTemplate().replace(new RegExp("~_","g"),this.idPrefix);i=Q.jsRender(i);this.element.html(i)}n.prototype.byId=function(e){return $("#"+this.idPrefix+e)};n.prototype.byID=function(t,n){return e.WX.getWidget(this.byId(t),n)};n.prototype.getTemplateName=function(){var t=function(e){var t=e.indexOf("$");if(t>=0){return e.substr(0,t)}return e};var i=ss.getInstanceType(this);var r=ss.getTypeFullName(i);var a=n.templateNames;var o=n.templateNames[r];if(o!=null){return o}while(i&&i!==e.Widget){var s=t(ss.getTypeFullName(i));for(var l=0,u=Q.Config.rootNamespaces;l<u.length;l++){var f=u[l];if(Q.startsWith(s,f+".")){s=s.substr(f.length+1);break}}if(Q.canLoadScriptData("Template."+s)){a[r]=s;return s}s=Q.replaceAll(s,".","_");if(Q.canLoadScriptData("Template."+s)||$("script#Template_"+s).length>0){a[r]=s;return s}s=t(ss.getTypeName(i));if(Q.canLoadScriptData("Template."+s)||$("script#Template_"+s).length>0){n.templateNames[r]=s;return s}i=ss.getBaseType(i)}a[r]=o=t(ss.getTypeName(ss.getInstanceType(this)));return o};n.prototype.getTemplate=function(){var e=this.getTemplateName();var t=$("script#Template_"+e);if(t.length>0){return t.html()}var n=Q.getTemplate(e);if(n==null){throw new Error(Q.format("Can't locate template for widget '{0}' with name '{1}'!",ss.getTypeName(ss.getInstanceType(this)),e))}return n};n.templateNames={};n=__decorate([e.Decorators.registerClass()],n);return n}(e.Widget);e.TemplatedWidget=t})(Serenity||(Serenity={}));var Serenity;(function(e){var t=function(t){__extends(n,t);function n(n){t.call(this,Q.newBodyDiv(),n);this.isPanel=ss.getAttributes(ss.getInstanceType(this),e.PanelAttribute,true).length>0;if(!this.isPanel){this.initDialog()}this.initValidator();this.initTabs();this.initToolbar()}n.getCssSize=function(e,t){var n=e.css(t);if(n==null){return null}if(!Q.endsWith(n,"px")){return null}n=n.substr(0,n.length-2);var i=Q.parseInteger(n);if(i==null||isNaN(i)||i==0)return null;return i};n.applyCssSizes=function(e,t){var i;var r=$("<div/>").hide().addClass(t).appendTo(document.body);try{var a=$("<div/>").addClass("size").appendTo(r);i=n.getCssSize(a,"minWidth");if(i!=null)e.minWidth=i;i=n.getCssSize(a,"width");if(i!=null)e.width=i;i=n.getCssSize(a,"height");if(i!=null)e.height=i;i=n.getCssSize(a,"minHeight");if(i!=null)e.minHeight=i}finally{r.remove()}};n.prototype.destroy=function(){this.tabs&&this.tabs.tabs("destroy");this.tabs=null;this.toolbar&&this.toolbar.destroy();this.toolbar=null;this.validator&&this.byId("Form").remove();this.validator=null;!this.isPanel&&this.element.dialog("destroy");$(window).unbind("."+this.uniqueName);t.prototype.destroy.call(this)};n.prototype.initDialog=function(){var t=this;this.element.dialog(this.getDialogOptions());var n=ss.getInstanceType(this);this.responsive=Q.Config.responsiveDialogs||ss.getAttributes(n,e.ResponsiveAttribute,true).length>0;if(this.responsive){e.DialogExtensions.dialogResizable(this.element);$(window).bind("resize."+this.uniqueName,function(e){if(t.element&&t.element.is(":visible")){t.handleResponsive()}});this.element.closest(".ui-dialog").addClass("flex-layout")}else if(ss.getAttributes(n,e.FlexifyAttribute,true).length>0){e.DialogExtensions.dialogFlexify(this.element);e.DialogExtensions.dialogResizable(this.element)}if(ss.getAttributes(n,e.MaximizableAttribute,true).length>0){e.DialogExtensions.dialogMaximizable(this.element)}var i=this;this.element.bind("dialogopen."+this.uniqueName,function(){$(document.body).addClass("modal-dialog-open");if(t.responsive){t.handleResponsive()}i.onDialogOpen()});this.element.bind("dialogclose."+this.uniqueName,function(){$(document.body).toggleClass("modal-dialog-open",$(".ui-dialog:visible").length>0);i.onDialogClose()})};n.prototype.initToolbar=function(){var t=this.byId("Toolbar");if(t.length===0){return}var n=this.element.closest(".ui-dialog");if(n.length===0){n=this.element}var i={buttons:this.getToolbarButtons(),hotkeyContext:n[0]};this.toolbar=new e.Toolbar(t,i)};n.prototype.getToolbarButtons=function(){return[]};n.prototype.getValidatorOptions=function(){return{}};n.prototype.initValidator=function(){var e=this.byId("Form");if(e.length>0){var t=this.getValidatorOptions();this.validator=e.validate(Q.validateOptions(t))}};n.prototype.resetValidation=function(){this.validator&&this.validator.resetAll()};n.prototype.validateForm=function(){return this.validator==null||!!this.validator.form()};n.prototype.dialogOpen=function(){if(this.isPanel){return}this.element.dialog().dialog("open")};n.prototype.onDialogOpen=function(){$(":input:eq(0)",this.element).focus();this.arrange();this.tabs&&this.tabs.tabs("option","active",0)};n.prototype.arrange=function(){this.element.find(".require-layout").filter(":visible").each(function(e,t){$(t).triggerHandler("layout")})};n.prototype.onDialogClose=function(){var e=this;$(document).trigger("click");if($.qtip){$(document.body).children(".qtip").each(function(e,t){$(t).qtip("hide")})}window.setTimeout(function(){var t=e.element;e.destroy();t.remove();Q.positionToastContainer(false)},0)};n.prototype.addCssClass=function(){var n=ss.getInstanceType(this);if(ss.getAttributes(n,e.PanelAttribute,true).length>0){t.prototype.addCssClass.call(this)}};n.prototype.getDialogOptions=function(){var t={};var i="s-Dialog "+this.getCssClass();t.dialogClass=i;t.width=920;n.applyCssSizes(t,i);t.autoOpen=false;var r=ss.getInstanceType(this);t.resizable=ss.getAttributes(r,e.ResizableAttribute,true).length>0;t.modal=true;t.position={my:"center",at:"center",of:$(window.window)};return t};n.prototype.dialogClose=function(){if(this.isPanel){return}this.element.dialog().dialog("close")};Object.defineProperty(n.prototype,"dialogTitle",{get:function(){if(this.isPanel){return null}return this.element.dialog("option","title")},set:function(e){if(this.isPanel){return}this.element.dialog("option","title",e)},enumerable:true,configurable:true});n.prototype.set_dialogTitle=function(e){this.dialogTitle=e};n.prototype.initTabs=function(){var e=this.byId("Tabs");if(e.length===0){return}this.tabs=e.tabs({})};n.prototype.handleResponsive=function(){var e=this.element.dialog();var t=this.element.closest(".ui-dialog");if($(document.body).hasClass("mobile-device")){var n=this.element.data("responsiveData");if(!n){n={};n.draggable=e.dialog("option","draggable");n.resizable=e.dialog("option","resizable");var i=t.position();n.left=i.left;n.top=i.top;n.width=t.width();n.height=t.height();n.contentHeight=this.element.height();this.element.data("responsiveData",n);e.dialog("option","draggable",false);e.dialog("option","resizable",false)}t.addClass("mobile-layout");t.css({left:"0px",top:"0px",width:$(window).width()+"px",height:$(window).height()+"px"});$(document.body).scrollTop(0);Q.layoutFillHeight(this.element)}else{var r=this.element.data("responsiveData");if(r){e.dialog("option","draggable",r.draggable);e.dialog("option","resizable",r.resizable);this.element.closest(".ui-dialog").css({left:"0px",top:"0px",width:r.width+"px",height:r.height+"px"});this.element.height(r.contentHeight);t.removeClass("mobile-layout");this.element.removeData("responsiveData")}}};n=__decorate([e.Decorators.registerClass([e.IDialog])],n);return n}(e.TemplatedWidget);e.TemplatedDialog=t})(Serenity||(Serenity={}));var Serenity;(function(e){var t=function(t){__extends(n,t);function n(){var n=this;t.call(this);new e.QuickSearchInput(this.byId("Search"),{onSearch:function(e,t,i){t=Q.trimToNull(t);if(t!=null)t=Q.stripDiacritics(t.toLowerCase());n.element.find("li").each(function(e,n){$(n).toggle(!t||Q.stripDiacritics($(n).text().toLowerCase()).indexOf(t)>=0)})}});this.ulVisible=this.byId("VisibleCols");this.ulHidden=this.byId("HiddenCols")}n.createToolButton=function(t){return{hint:Q.text("Controls.ColumnPickerDialog.Title"),cssClass:"column-picker-button",onClick:function(){var n=new e.ColumnPickerDialog;n.allColumns=t.allColumns;if(t.initialSettings){var i=t.initialSettings;if(i.columns&&i.columns.length)n.defaultColumns=i.columns.map(function(e){return e.id})}n.visibleColumns=t.slickGrid.getColumns().map(function(e){return e.id});n.done=function(){t.allColumns=n.allColumns;var e=n.allColumns.filter(function(e){return e.visible===true});t.slickGrid.setColumns(e);t.persistSettings();t.refresh()};n.dialogOpen()}}};n.prototype.getDialogOptions=function(){var e=this;var n=t.prototype.getDialogOptions.call(this);n.title=Q.text("Controls.ColumnPickerDialog.Title");n.width=600;n.buttons=[{text:Q.text("Controls.ColumnPickerDialog.RestoreDefaults"),click:function(){var t={};e.ulVisible.children().add(e.ulHidden.children()).each(function(e,n){var i=$(n);t[i.data("key")]=i});var n=null;for(var i=0,r=e.defaultColumns;i<r.length;i++){var a=r[i];var o=t[a];if(!o)continue;if(n==null)o.prependTo(e.ulVisible);else o.insertAfter(n);n=o;var s=o.data("key");delete t[s]}for(var s in t)t[s].appendTo(e.ulHidden);e.updateListStates()}},{text:Q.text("Dialogs.OkButton"),click:function(){var t=[];for(var n=0,i=e.allColumns;n<i.length;n++){var r=i[n];r.visible=false}e.visibleColumns=e.ulVisible.children().toArray().map(function(n){var i=$(n).data("key");var r=e.colById[i];r.visible=true;t.push(r);return i});for(var a=0,o=e.allColumns;a<o.length;a++){var r=o[a];if(!r.visible)t.push(r)}e.allColumns=t;e.done&&e.done();e.dialogClose()}},{text:Q.text("Dialogs.CancelButton"),click:function(){e.dialogClose()}}];return n};n.prototype.getTitle=function(e){if(e.id=="__select__")return"[x]";return e.name||e.toolTip||e.id};n.prototype.createLI=function(e){return $('\n<li data-key="'+e.id+'">\n  <span class="drag-handle">☰</span>\n  '+Q.htmlEncode(this.getTitle(e))+'\n  <i class="js-hide" title="'+Q.text("Controls.ColumnPickerDialog.HideHint")+'">✖</i>\n  <i class="js-show icon-eye" title="'+Q.text("Controls.ColumnPickerDialog.ShowHint")+'"></i>\n</li>')};n.prototype.updateListStates=function(){this.ulVisible.children().removeClass("bg-info").addClass("bg-success");this.ulHidden.children().removeClass("bg-success").addClass("bg-info")};n.prototype.setupColumns=function(){var e=this;this.allColumns=this.allColumns||[];this.visibleColumns=this.visibleColumns||[];var t={};for(var n=0,i=this.visibleColumns;n<i.length;n++){var r=i[n];t[r]=true}this.colById={};for(var a=0,o=this.allColumns;a<o.length;a++){var s=o[a];this.colById[s.id]=s}if(this.defaultColumns==null)this.defaultColumns=this.visibleColumns.slice(0);var l=[];for(var u=0,f=this.allColumns;u<f.length;u++){var c=f[u];if(!t[c.id]&&(!c.sourceItem||c.sourceItem.filterOnly!==true)){l.push(c)}}var d=l.sort(function(t,n){return Q.turkishLocaleCompare(e.getTitle(t),e.getTitle(n))});for(var g=0,p=this.visibleColumns;g<p.length;g++){var r=p[g];var h=this.colById[r];if(!h)continue;this.createLI(h).appendTo(this.ulVisible)}for(var v=0,m=d;v<m.length;v++){var y=m[v];this.createLI(y).appendTo(this.ulHidden)}this.updateListStates();if(typeof Sortable!=="undefined"&&Sortable.create){Sortable.create(this.ulVisible[0],{group:this.uniqueName+"_group",filter:".js-hide",onFilter:function(t){$(t.item).appendTo(e.ulHidden);e.updateListStates()},onEnd:function(t){return e.updateListStates()}});Sortable.create(this.ulHidden[0],{group:this.uniqueName+"_group",sort:false,filter:".js-show",onFilter:function(t){$(t.item).appendTo(e.ulVisible);e.updateListStates()},onEnd:function(t){return e.updateListStates()}})}};n.prototype.onDialogOpen=function(){t.prototype.onDialogOpen.call(this);this.element.find("input").removeAttr("disabled");this.element.closest(".ui-dialog").children(".ui-dialog-buttonpane").find("button").eq(0).addClass("restore-defaults").next().focus();this.setupColumns();Q.centerDialog(this.element)};n.prototype.getTemplate=function(){return'\n<div class="search"><input id="~_Search" type="text" disabled /></div>\n<div class="columns-container">\n<div class="column-list visible-list bg-success">\n  <h5><i class="icon-eye"></i> '+Q.text("Controls.ColumnPickerDialog.VisibleColumns")+'</h5>\n  <ul id="~_VisibleCols"></ul>\n</div>\n<div class="column-list hidden-list bg-info">\n  <h5><i class="icon-list"></i> '+Q.text("Controls.ColumnPickerDialog.HiddenColumns")+'</h5>\n  <ul id="~_HiddenCols"></ul>\n</div>\n</div>'};n=__decorate([e.Decorators.registerClass(),e.Decorators.resizable(),e.Decorators.responsive()],n);return n}(e.TemplatedDialog);e.ColumnPickerDialog=t})(Serenity||(Serenity={}));if($.fn.button&&$.fn.button.noConflict){var btn=$.fn.button.noConflict();$.fn.btn=btn}$.fn.flexHeightOnly=function(e){if(e===void 0){e=1}return this.flexWidthHeight(0,e)};$.fn.flexWidthOnly=function(e){if(e===void 0){e=1}return this.flexWidthHeight(e,0)};$.fn.flexWidthHeight=function(e,t){if(e===void 0){e=1}if(t===void 0){t=1}return this.addClass("flexify").data("flex-x",e).data("flex-y",t)};$.fn.flexX=function(e){return this.data("flex-x",e)};$.fn.flexY=function(e){return this.data("flex-y",e)};if($.fn.button&&$.fn.button.noConflict){var btn=$.fn.button.noConflict();$.fn.btn=btn}(function(e){e.widget("ui.slickPager",{options:{view:null,showRowsPerPage:true,rowsPerPageOptions:[20,100,500,2e3],onRpChange:null},_create:function(){var t=this;var n=t.options;var i=n.view;if(!i)throw"SlickPager requires view option to be set!";this.element.addClass("s-SlickPager slick-pg").html('<div class="slick-pg-in">'+'<div class="slick-pg-grp">'+'<div class="slick-pg-first slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'<div class="slick-pg-prev slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<span class="slick-pg-control">&nbsp;'+Q.text("Controls.Pager.Page")+'&nbsp;<input class="slick-pg-current" type="text" size="4" value="1" /> / '+'<span class="slick-pg-total"> 1 </span></span>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<div class="slick-pg-next slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'<div class="slick-pg-last slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div><div class="slick-pg-grp">'+'<div class="slick-pg-reload slick-pg-btn"><span class="slick-pg-btn-span"></span></div>'+'</div><div class="slick-pg-sep"></div>'+'<div class="slick-pg-grp"><span class="slick-pg-stat"></span></div></div>');e(".slick-pg-reload",this.element).click(function(){i.populate()});e(".slick-pg-first",this.element).click(function(){t._changePage("first")});e(".slick-pg-prev",this.element).click(function(){t._changePage("prev")});e(".slick-pg-next",this.element).click(function(){t._changePage("next")});e(".slick-pg-last",this.element).click(function(){t._changePage("last")});e(".slick-pg-current",this.element).keydown(function(e){if(e.keyCode==13)t._changePage("input")});if(t.options.showRowsPerPage){var r,a="";for(var o=0;o<n.rowsPerPageOptions.length;o++){if(i.rowsPerPage==n.rowsPerPageOptions[o])a='selected="selected"';else a="";r+="<option value='"+n.rowsPerPageOptions[o]+"' "+a+" >"+n.rowsPerPageOptions[o]+"&nbsp;&nbsp;</option>"}e(".slick-pg-in",this.element).prepend('<div class="slick-pg-grp"><select class="slick-pg-size" name="rp">'+r+'</select></div><div class="slick-pg-sep"></div>');e("select.slick-pg-size",this.element).change(function(){if(n.onRowsPerPageChange)n.onRowsPerPageChange(+this.value);else{i.newp=1;i.setPagingOptions({page:1,rowsPerPage:+this.value})}})}i.onPagingInfoChanged.subscribe(function(){t._updatePager()})},destroy:function(){e.Widget.prototype.destroy.apply(this,arguments)},_changePage:function(t){var n=this.options.view;if(!n||n.loading)return true;var i=n.getPagingInfo();var r=!i.rowsPerPage||!i.totalCount?1:Math.ceil(i.totalCount/i.rowsPerPage);var a;switch(t){case"first":a=1;break;case"prev":if(i.page>1)a=parseInt(i.page)-1;break;case"next":if(i.page<r)a=parseInt(i.page)+1;break;case"last":a=r;break;case"input":var o=parseInt(e("input.slick-pg-current",this.element).val());if(isNaN(o))o=1;else if(o<1)o=1;else if(o>r)o=r;e(".slick-pg-current",this.element).val(o);a=o;break}if(a==i.page)return false;if(this.options.onChangePage)this.options.onChangePage(a);else{n.setPagingOptions({page:a})}},_updatePager:function(){var t=this.options.view;var n=t.getPagingInfo();var i=!n.rowsPerPage||!n.totalCount?1:Math.ceil(n.totalCount/n.rowsPerPage);e(".slick-pg-current",this.element).val(n.page);e(".slick-pg-total",this.element).html(i);var r=(n.page-1)*n.rowsPerPage+1;var a=r+n.rowsPerPage-1;if(n.totalCount<a)a=n.totalCount;var o;if(n.loading){o=Q.text("Controls.Pager.LoadingStatus")}else if(n.error){o=n.error}else if(n.totalCount>0){o=Q.text("Controls.Pager.PageStatus");o=o.replace(/{from}/,r);o=o.replace(/{to}/,a);o=o.replace(/{total}/,n.totalCount)}else o=Q.text("Controls.Pager.NoRowStatus");e(".slick-pg-stat",this.element).html(o);e(".slick-pg-size",this.element).val((n.rowsPerPage||0).toString())},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);var Slick;(function(e){var t;(function(e){var t})(t=e.Data||(e.Data={}))})(Slick||(Slick={}));var Slick;(function(e){var t=function(){function t(t){var n=this;var i={groupItemMetadataProvider:null,inlineFilters:false};var r;var a=[];var o=[];var s={};var l=null;var u=null;var f=null;var c=0;var d=true;var g;var p;var h={};var v={};var m;var y=[];var b;var w;var C=[];var _={getter:null,formatter:null,comparer:function(e,t){return e.value===t.value?0:e.value>t.value?1:-1},predefinedValues:[],aggregateEmpty:false,aggregateCollapsed:false,aggregateChildGroups:false,collapsed:false,displayTotalsRow:true,lazyTotalsCalculation:false};var x={};var S=[];var T=[];var P=[];var A=":|:";var k=1;var I=0;var D=new e.Event;var N=new e.Event;var O=new e.Event;var E=false;var F=null;var R=0;var M=0;var H;var z;var j=null;var L=new e.Event;var V=new e.Event;var B=new e.Event;var W=new e.Event;var U;function q(){c++}function G(){c--;if(c<=0)Kt()}function K(e){h=e}function Z(e){m=e}function J(e){e=e||0;var t;for(var n=e,i=a.length;n<i;n++){t=a[n][r];if(t===undefined){var o="Each data element must implement a unique '"+r+"' property. Object at index '"+n+"' "+"has no identity value: ";o+=$.toJSON(a[n]);throw o}s[t]=n}}function Y(){var e;for(var t=0,n=a.length;t<n;t++){e=a[t][r];if(e===undefined||s[e]!==t){var i="Each data element must implement a unique '"+r+"' property. Object at index '"+t+"' ";if(e==undefined)i+="has no identity value: ";else i+="has repeated identity value '"+e+"': ";i+=$.toJSON(a[t]);throw i}}}function X(){return a}function et(e){a=y=e;s={};l=null;x.totals={};J();Y();if(c){Gt(a)}else{Kt()}L.notify({dataView:n},null,n)}function tt(e){var t=false;if(e.rowsPerPage!=undefined&&U.rowsPerPage!=e.rowsPerPage){U.rowsPerPage=e.rowsPerPage;t=true}if(e.page!=undefined){var n;if(!U.rowsPerPage)n=1;else if(j==null)n=e.page;else n=Math.min(e.page,Math.ceil(j/U.rowsPerPage)+1);if(n<1)n=1;if(n!=k){U.seekToPage=n;t=true}}if(t)Xt()}function nt(){return{rowsPerPage:U.rowsPerPage,page:k,totalCount:j,loading:E,error:F,dataView:n}}function it(e,t){d=t;p=e;g=null;if(t===false){a.reverse()}a.sort(e);if(t===false){a.reverse()}s={};J();Kt()}function rt(e,t){d=t;g=e;p=null;var n=Object.prototype.toString;Object.prototype.toString=typeof e==="function"?e:function(){return this[e]};if(t===false){a.reverse()}a.sort();Object.prototype.toString=n;if(t===false){a.reverse()}s={};J();Kt()}function at(){if(p){it(p,d)}else if(g){rt(g,d)}}function ot(e){u=e;if(t.inlineFilters){b=Lt();w=Vt()}Kt()}function st(){return S}function lt(e){e=e||{};x.aggregators=e.aggregators||[];x.compiledAccumulators=[];x.totals={};var t=x.aggregators.length;while(t--){x.compiledAccumulators[t]=jt(x.aggregators[t])}ft(S||[])}function ut(){x.totals=x.totals||{};if(!x.totals.initialized){x.aggregators=x.aggregators||[];x.compiledAccumulators=x.compiledAccumulators||[];var e,t=x.aggregators.length;while(t--){e=x.aggregators[t];e.init();x.compiledAccumulators[t].call(e,a);e.storeResult(x.totals)}x.totals.initialized=true}return x.totals}function ft(n){if(!t.groupItemMetadataProvider){t.groupItemMetadataProvider=new e.Data.GroupItemMetadataProvider}T=[];P=[];n=n||[];S=n instanceof Array?n:[n];for(var i=0;i<S.length;i++){var r=S[i]=$.extend(true,{},_,S[i]);r.aggregators=r.aggregators||x.aggregators||[];r.getterIsAFn=typeof r.getter==="function";r.compiledAccumulators=[];var a=r.aggregators.length;while(a--){r.compiledAccumulators[a]=jt(r.aggregators[a])}P[i]={}}Kt()}function ct(e){return a[e]}function dt(e){return s[e]}function gt(){if(!l){l={};for(var e=0,t=o.length;e<t;e++){l[o[e][r]]=e}}}function pt(e){gt();return l[e]}function ht(e){return a[s[e]]}function vt(e){var t=[];gt();for(var n=0,i=e.length;n<i;n++){var r=l[e[n]];if(r!=null){t[t.length]=r}}return t}function mt(e){var t=[];for(var n=0,i=e.length;n<i;n++){if(e[n]<o.length){t[t.length]=o[e[n]][r]}}return t}function yt(e,t){if(s[e]===undefined||e!==t[r]){throw"Invalid or non-matching id"}a[s[e]]=t;if(!f){f={}}f[e]=true;Kt()}function bt(e,t){a.splice(e,0,t);J(e);Kt()}function wt(e){a.push(e);J(a.length-1);Kt()}function Ct(e){var t=s[e];if(t===undefined){throw"Invalid id"}delete s[e];a.splice(t,1);J(t);Kt()}function _t(){return o}function xt(){return o.length}function $t(e){var t=o[e];if(t&&t.__group&&t.totals&&!t.totals.initialized){var n=S[t.level];if(!n.displayTotalsRow){Ft(t.totals);t.title=n.formatter?n.formatter(t):t.value}}else if(t&&t.__groupTotals&&!t.initialized){Ft(t)}return t}function St(e){var n=o[e];if(n===undefined){return null}if(n.__group){return t.groupItemMetadataProvider.getGroupRowMetadata(n)}if(n.__groupTotals){return t.groupItemMetadataProvider.getTotalsRowMetadata(n)}return t.getItemMetadata&&t.getItemMetadata(n,e)||null}function Tt(e,t){if(e==null){for(var n=0;n<S.length;n++){P[n]={};S[n].collapsed=t}}else{P[e]={};S[e].collapsed=t}Kt()}function Pt(e){Tt(e,true)}function At(e){Tt(e,false)}function kt(e){var t=e[0];if(e.length===1&&t.indexOf(A)!==-1){return{level:t.split(A).length-1,groupingKey:t}}else{return{level:e.length-1,groupingKey:e.join(A)}}}function It(e,t){var n=kt(e);P[n.level][n.groupingKey]=S[n.level].collapsed^t;Kt()}function Dt(e){var t=Array.prototype.slice.call(arguments);It(t,true)}function Nt(e){var t=Array.prototype.slice.call(arguments);It(t,false)}function Ot(){return T}function Qt(t,n,i,r,a){var o=t[n];if(!o){o=new e.Group;o.value=n;o.level=i;o.groupingKey=(r?r.groupingKey+A:"")+n;a[a.length]=o;t[n]=o}return o}function Et(e,t){var n;var i;var r=[];var a={};var o;var s=t?t.level+1:0;var l=S[s];for(var u=0,f=l.predefinedValues.length;u<f;u++){i=l.predefinedValues[u];n=Qt(a,i,s,t,r)}for(var u=0,f=e.length;u<f;u++){o=e[u];i=l.getterIsAFn?l.getter(o):o[l.getter];n=Qt(a,i,s,t,r);n.rows[n.count++]=o}if(s<S.length-1){for(var u=0;u<r.length;u++){n=r[u];n.groups=Et(n.rows,n)}}r.sort(S[s].comparer);return r}function Ft(e){var t=e.group;var n=S[t.level];var i=t.level==S.length;var r,a=n.aggregators.length;if(!i&&n.aggregateChildGroups){var o=t.groups.length;while(o--){if(!t.groups[o].totals.initialized){Ft(t.groups[o].totals)}}}while(a--){r=n.aggregators[a];r.init();if(!i&&n.aggregateChildGroups){n.compiledAccumulators[a].call(r,t.groups)}else{n.compiledAccumulators[a].call(r,t.rows)}r.storeResult(e)}e.initialized=true}function Rt(t){var n=S[t.level];var i=new e.GroupTotals;i.group=t;
t.totals=i;if(!n.lazyTotalsCalculation){Ft(i)}}function Mt(e,t){t=t||0;var n=S[t];var i=n.collapsed;var r=P[t];var a=e.length,o;while(a--){o=e[a];if(o.collapsed&&!n.aggregateCollapsed){continue}if(o.groups){Mt(o.groups,t+1)}if(n.aggregators.length&&(n.aggregateEmpty||o.rows.length||o.groups&&o.groups.length)){Rt(o)}o.collapsed=i^r[o.groupingKey];o.title=n.formatter?n.formatter(o):o.value}}function Ht(e,t){t=t||0;var n=S[t];var i=[],r,a=0,o;for(var s=0,l=e.length;s<l;s++){o=e[s];i[a++]=o;if(!o.collapsed){r=o.groups?Ht(o.groups,t+1):o.rows;for(var u=0,f=r.length;u<f;u++){i[a++]=r[u]}}if(o.totals&&n.displayTotalsRow&&(!o.collapsed||n.aggregateCollapsed)){i[a++]=o.totals}}return i}function zt(e){var t=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/;var n=e.toString().match(t);return{params:n[1].split(","),body:n[2]}}function jt(e){var t=zt(e.accumulate);var n=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}");n.displayName=n.name="compiledAccumulatorLoop";return n}function Lt(){var e=zt(u);var t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,t);n=n.replace(/\$item\$/gi,e.params[0]);n=n.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args",n);i.displayName=i.name="compiledFilter";return i}function Vt(){var e=zt(u);var t=e.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");var n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,t);n=n.replace(/\$item\$/gi,e.params[0]);n=n.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args,_cache",n);i.displayName=i.name="compiledFilterWithCaching";return i}function Bt(e,t){var n=[],i=0;for(var r=0,a=e.length;r<a;r++){if(u(e[r],t)){n[i++]=e[r]}}return n}function Wt(e,t,n){var i=[],r=0,a;for(var o=0,s=e.length;o<s;o++){a=e[o];if(n[o]){i[r++]=a}else if(u(a,t)){i[r++]=a;n[o]=true}}return i}function Ut(e){if(u){var n=t.inlineFilters?b:Bt;var i=t.inlineFilters?w:Wt;if(h.isFilterNarrowing){y=n(y,m)}else if(h.isFilterExpanding){y=i(e,m,C)}else if(!h.isFilterUnchanged){y=n(e,m)}}else{y=e.concat()}return{totalRows:y.length,rows:y}}function qt(e,t){var n,i,a,o=[];var s=0,l=t.length;if(h&&h.ignoreDiffsBefore){s=Math.max(0,Math.min(t.length,h.ignoreDiffsBefore))}if(h&&h.ignoreDiffsAfter){l=Math.min(t.length,Math.max(0,h.ignoreDiffsAfter))}for(var u=s,c=e.length;u<l;u++){if(u>=c){o[o.length]=u}else{n=t[u];i=e[u];if(S.length&&(a=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__group&&!n.equals(i)||a&&(n.__groupTotals||i.__groupTotals)||n[r]!=i[r]||f&&f[n[r]]){o[o.length]=u}}}return o}function Gt(e){l=null;if(h.isFilterNarrowing!=v.isFilterNarrowing||h.isFilterExpanding!=v.isFilterExpanding){C=[]}var t=Ut(e);I=t.totalRows;var n=t.rows;x.totals={};T=[];if(S.length){T=Et(n);if(T.length){Mt(T);n=Ht(T)}}var i=qt(o,n);o=n;return i}function Kt(){if(c){return}var e=o.length;var t=I;var i=Gt(a);f=null;v=h;h={};if(t!==I){O.notify(nt(),null,n)}if(e!==o.length){D.notify({previous:e,current:o.length,dataView:n},null,n)}if(i.length>0){N.notify({rows:i,dataView:n},null,n)}}function Zt(t,n,i){var r=this;var a;var o=r.mapRowsToIds(t.getSelectedRows());var s=new e.Event;function l(n){if(o.join(",")==n.join(",")){return}o=n;s.notify({grid:t,ids:o,dataView:r},new e.EventData,r)}function u(){if(o.length>0){a=true;var e=r.mapIdsToRows(o);if(!n){l(r.mapRowsToIds(e))}t.setSelectedRows(e);a=false}}t.onSelectedRowsChanged.subscribe(function(e,n){if(a){return}var s=r.mapRowsToIds(t.getSelectedRows());if(!i||!t.getOptions().multiSelect){l(s)}else{var u=$.grep(o,function(e){return r.getRowById(e)===undefined});l(u.concat(s))}});this.onRowsChanged.subscribe(u);this.onRowCountChanged.subscribe(u);return s}function Jt(e,t){var n;var i;a(e.getCellCssStyles(t));function a(e){n={};for(var t in e){var i=o[t][r];n[i]=e[t]}}function s(){if(n){i=true;gt();var r={};for(var a in n){var o=l[a];if(o!=undefined){r[o]=n[a]}}e.setCellCssStyles(t,r);i=false}}e.onCellCssStylesChanged.subscribe(function(e,n){if(i){return}if(t!=n.key){return}if(n.hash){a(n.hash)}});this.onRowsChanged.subscribe(s);this.onRowCountChanged.subscribe(s)}function Yt(e){if(U.onProcessData&&e)e=U.onProcessData(e,U)||e;F=null;E&&E.abort();E=false;if(!e){F=U.errormsg;O.notify(nt());return false}var t=e;e.TotalCount=e.TotalCount||0;e.Entities=e.Entities||[];if(!e.Skip||!U.rowsPerPage&&!e.Take)e.Page=1;else e.Page=Math.ceil(e.Skip/(e.Take||U.rowsPerPage))+1;k=e.Page;j=e.TotalCount;et(e.Entities);O.notify(nt())}function Xt(){if(R>0){M++;return}M=0;E&&E.abort();if(U.onSubmit){var e=U.onSubmit(U);if(e===false)return false}V.notify(this);if(!U.url)return false;if(!U.seekToPage)U.seekToPage=1;var t={};var n=(U.seekToPage-1)*U.rowsPerPage;if(n)t.Skip=n;if(U.rowsPerPage)t.Take=U.rowsPerPage;if(U.sortBy&&U.sortBy.length){if($.isArray(U.sortBy))t.Sort=U.sortBy;else{t.Sort=[U.sortBy]}}if(U.params){t=$.extend(t,U.params)}var i=z;var r=this;var a={cache:false,type:U.method,contentType:H,url:U.url,data:t,dataType:i,success:function(e){E=false;if(e.Error)Q.notifyError(e.Error.Message||e.Error.Code);else Yt(e);B.notify(this)},error:function(e,t,n){E=false;if((e.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var i=$.parseJSON(e.responseText);if(i!=null&&i.Error!=null){Q.notifyError(i.Error.Message||i.Error.Code);O.notify(nt());B.notify(this);return}}F=e.errormsg;O.notify(nt());B.notify(this)},complete:function(){E=false}};if(U.onAjaxCall){var o=U.onAjaxCall(this,a);if(o===false){E=false;O.notify(nt());return false}}a.data=$.toJSON(a.data);O.notify(nt());E=$.ajax(a)}function en(){if(R==0)M=0;R++}function tn(){if(R>0){R--;if(R==0&&M>0)Xt()}}U={beginUpdate:q,endUpdate:G,setPagingOptions:tt,getPagingInfo:nt,getRows:_t,getItems:X,setItems:et,setFilter:ot,sort:it,fastSort:rt,reSort:at,setSummaryOptions:lt,getGrandTotals:ut,setGrouping:ft,getGrouping:st,collapseAllGroups:Pt,expandAllGroups:At,collapseGroup:Dt,expandGroup:Nt,getGroups:Ot,getIdxById:dt,getRowById:pt,getItemById:ht,getItemByIdx:ct,mapRowsToIds:mt,mapIdsToRows:vt,setRefreshHints:K,setFilterArgs:Z,refresh:Kt,updateItem:yt,insertItem:bt,addItem:wt,deleteItem:Ct,syncGridSelection:Zt,syncGridCellCssStyles:Jt,getLength:xt,getItem:$t,getItemMetadata:St,onRowCountChanged:D,onRowsChanged:N,onPagingInfoChanged:O,addData:Yt,populate:Xt,populateLock:en,populateUnlock:tn,onDataChanged:L,onDataLoaded:B,onDataLoading:V};r=t.idField||"id";H=t.contentType||"application/json";z=t.dataType||"json";u=t.filter||null;U.params=t.params||{};U.onSubmit=t.onSubmit||null;U.url=t.url||null;U.rowsPerPage=t.rowsPerPage||0;U.seekToPage=t.seekToPage||1;U.onAjaxCall=t.onAjaxCall||null;U.onProcessData=t.onProcessData||null;U.method=t.method||"POST";U.errormsg=U.errormsg||Q.text("Controls.Pager.DefaultLoadError");U.sortBy=t.sortBy||[];U.idField=r;if(t.url&&t.autoLoad){Xt()}return U}return t}();e.RemoteView=t})(Slick||(Slick={}));var Slick;(function(e){var t;(function(e){function t(e){this.field_=e;this.init=function(){this.count_=0;this.nonNullCount_=0;this.sum_=0};this.accumulate=function(e){var t=e[this.field_];this.count_++;if(t!=null&&t!==""&&!isNaN(t)){this.nonNullCount_++;this.sum_+=parseFloat(t)}};this.storeResult=function(e){if(!e.avg){e.avg={}}if(this.nonNullCount_!=0){e.avg[this.field_]=this.sum_/this.nonNullCount_}}}e.Avg=t;function n(e,t){this.field_=e;this.weightedField_=t;this.init=function(){this.sum_=0;this.weightedSum_=0};this.accumulate=function(e){var t=e[this.field_];var n=e[this.weightedField_];if(this.isValid(t)&&this.isValid(n)){this.weightedSum_+=parseFloat(n);this.sum_+=parseFloat(t)*parseFloat(n)}};this.storeResult=function(e){if(!e.avg){e.avg={}}if(this.sum_&&this.weightedSum_){e.avg[this.field_]=this.sum_/this.weightedSum_}};this.isValid=function(e){return e!==null&&e!==""&&!isNaN(e)}}e.WeightedAvg=n;function i(e){this.field_=e;this.init=function(){this.min_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){if(this.min_==null||t<this.min_){this.min_=t}}};this.storeResult=function(e){if(!e.min){e.min={}}e.min[this.field_]=this.min_}}e.Min=i;function r(e){this.field_=e;this.init=function(){this.max_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){if(this.max_==null||t>this.max_){this.max_=t}}};this.storeResult=function(e){if(!e.max){e.max={}}e.max[this.field_]=this.max_}}e.Max=r;function a(e){this.field_=e;this.init=function(){this.sum_=null};this.accumulate=function(e){var t=e[this.field_];if(t!=null&&t!==""&&!isNaN(t)){this.sum_+=parseFloat(t)}};this.storeResult=function(e){if(!e.sum){e.sum={}}e.sum[this.field_]=this.sum_}}e.Sum=a})(t=e.Aggregators||(e.Aggregators={}))})(Slick||(Slick={}));var Q;(function(e){var t;function n(e,n){t.call(this,e,n);this.errorsFor(e).each(function(t,n){if($(e).hasClass("error"))$(n).removeClass("checked");$(n).attr("title",$(n).text())})}function i(){if($.validator.methods["customValidate"]==null){$.validator.addMethod("customValidate",function(e,t){var n=this.optional(t);if(t==null||!!n){return n}var i=$._data(t,"events");if(!i){return true}var r=i.customValidate;if(r==null||r.length===0){return true}var a=$(t);for(var o=0;!!(o<r.length);o++){var s=ss.safeCast(r[o].handler,Function);if(s){var l=s(a);if(l!=null){a.data("customValidationMessage",l);return false}}}return true},function(e,t){return $(t).data("customValidationMessage")})}}function r(){i();var r=$.validator;r=r.prototype;t=r.showLabel;r.showLabel=n;$.validator.addMethod("dateQ",function(t,n){return this.optional(n)||e.parseDate(t)!=false});$.validator.addMethod("hourAndMin",function(t,n){return this.optional(n)||!isNaN(e.parseHourAndMin(t))});$.validator.addMethod("dayHourAndMin",function(t,n){return this.optional(n)||!isNaN(e.parseDayHourAndMin(t))});$.validator.addMethod("decimalQ",function(t,n){return this.optional(n)||!isNaN(e.parseDecimal(t))});$.validator.addMethod("integerQ",function(t,n){return this.optional(n)||!isNaN(e.parseInteger(t))});var a=$.validator.methods["email"];$.validator.addMethod("email",function(t,n){if(!e.Config.emailAllowOnlyAscii)return a.call(this,t,n);return this.optional(n)||/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)});$.validator.addMethod("emailMultiple",function(e,t){var n=this.optional(t);if(n)return n;if(e.indexOf(";")>=0)e=e.split(";");else e=e.split(",");for(var i=0;i<e.length;i++){n=$.validator.methods["email"].call(this,e[i],t);if(!n)return n}return n});$.validator.addMethod("anyvalue",function(e,t){return true});var o=$.validator.defaults;o.ignoreTitle=true;o.onchange=function(e){this.element(e)};r.oldinit=r.init;r.init=function(){r.oldinit.call(this);function e(e){if(this.form==null)return;var t=$.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,"");t&&t.settings[n]&&t.settings[n].call(t,this)}function t(t){var n=this[0];if(!$.data(n,"changebound")){$(n).change(e);$.data(n,"changebound",true)}}$(this.currentForm).on(":text, :password, :file, select, textarea","focusin.validate",t)};r.oldfocusInvalid=r.focusInvalid;r.focusInvalid=function(){if(this.settings.abortHandler)this.settings.abortHandler(this);this.oldfocusInvalid.call(this)};r.oldstopRequest=r.focusInvalid;r.stopRequest=function(e,t){var n=this.formSubmitted;this.oldfocusInvalid.call(this,[e,t]);if(!t&&this.pendingRequest==0&&n&&this.settings.abortHandler){this.settings.abortHandler(this)}};r.resetAll=function(){this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)};jQuery(function(){$.extend($.validator.messages,{email:e.text("Validation.Email"),required:e.text("Validation.Required"),minlength:e.text("Validation.MinLength"),maxlength:e.text("Validation.MaxLength"),digits:e.text("Validation.Digits"),range:e.text("Validation.Range"),xss:e.text("Validation.Xss"),dateQ:e.text("Validation.DateInvalid"),decimalQ:e.text("Validation.Decimal"),integerQ:e.text("Validation.Integer"),url:e.text("Validation.Url")})})}function a(e){e.settings.abortHandler=null;e.settings.submitHandler=function(){return false}}e.validatorAbortHandler=a;function o(t){return $.extend({ignore:":hidden",meta:"v",errorClass:"error",errorPlacement:function(e,t){var n=null;var i=t.attr("data-vx-id");if(i){n=$("#"+i);if(!n.length)n=null;else n=n[0]}if(n==null){n=t.parents("div.field");if(n.length){var r=$("div.vx",n[0]);if(r.length)n=r[0]}else n=t.parent()}e.appendTo(n)},submitHandler:function(){return false},invalidHandler:function(){e.notifyError(e.text("Validation.InvalidFormMessage"))},success:function(e){e.addClass("checked")}},t)}e.validateOptions=o;if(window["jQuery"]&&window["jQuery"]["validator"])r();else if(window["jQuery"]){jQuery(function(e){if(e.validator)r()})}function s(){var t=e.Culture.dateOrder;var n=e.Culture.dateSeparator;var i=($("html").attr("lang")||"en").toLowerCase();if(!$.datepicker.regional[i]){i=i.split("-")[0];if(!$.datepicker.regional[i]){i="en"}}$.datepicker.setDefaults($.datepicker.regional["en"]);$.datepicker.setDefaults($.datepicker.regional[i]);$.datepicker.setDefaults({dateFormat:t=="mdy"?"mm"+n+"dd"+n+"yy":t=="ymd"?"yy"+n+"mm"+n+"dd":"dd"+n+"mm"+n+"yy",buttonImage:e.resolveUrl("~/content/serenity/images/datepicker.png"),buttonImageOnly:true,showOn:"both",showButtonPanel:true,changeMonth:true,changeYear:true})}if(window["jQuery"]&&window["jQuery"]["datepicker"]&&window["jQuery"]["datepicker"]["regional"]&&window["jQuery"]["datepicker"]["regional"]["en"]){s()}else{jQuery(function(e){if(e.datepicker)s()})}function l(){$.ui.dialog.prototype._allowInteraction=function(e){if($(e.target).closest(".ui-dialog").length){return true}return!!$(e.target).closest(".ui-datepicker, .select2-drop, .cke, .cke_dialog, #support-modal").length}}if(window["jQuery"]&&window["jQuery"]["ui"]){l()}else{jQuery(function(e){if(window["jQuery"]["ui"])l()})}function u(){ss.Exception.prototype.toString=function(){return this.get_message()}}if(ss&&ss.Exception)u();else{jQuery(function(e){if(ss&&ss.Exception)u()})}})(Q||(Q={}));